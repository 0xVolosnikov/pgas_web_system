(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{515:function(e,t,a){},533:function(e,t,a){"use strict";var n=a(4),i=a(5),s=a(8),r=a(7),l=a(9),o=a(2),c=a(0),d=a.n(c),m=(a(515),a(10)),h=a.n(m),u=a(15),p=(a(19),a(51)),f=a.n(p),g=a(14),v=a(16),y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).statusFormatter=function(e,t){return t.status+(t.ball?"("+t.ball+")":"")},a.charsFormatter=function(e,t){return d.a.createElement("div",{style:{display:"flex","flex-wrap":"wrap","max-width":"20rem"}},t.chars.map(function(e){var t=e;return t.length>35&&(t=e.substr(0,15)+"..."+e.substr(e.length-15,15)),d.a.createElement("div",{className:"charsItem"},t)}))},a.newComments={},a.commentsFormatter=function(e,t){return d.a.createElement("div",{className:"input-group commentContainer",onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||(document.getElementById(t._id).value=document.getElementById(t._id).defaultValue)}},d.a.createElement("textarea",{id:t._id,className:"form-control"+(t.comment?" commentSended":""),defaultValue:t.comment,onChange:function(e){return a.newComments[t._id]=e.target.value},style:{height:"8.2rem"}}),d.a.createElement("div",{className:"input-group-append",style:{marginRight:"0px"}},d.a.createElement("button",{class:"btn btn-info",style:{"font-size":"x-small",margin:"0px",backgroundColor:"#3d5c61"},onClick:function(e){a.handleCommentChange(e,t._id)}},"\u041e\u043a")))},a.actionsFormatter=function(e,t){return d.a.createElement("div",{style:{display:"block"}},d.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"1rem",padding:"0.1rem"}},d.a.createElement("button",{type:"button",className:"custom_button centered_hor","data-toggle":"modal","data-target":"#exampleModal",onClick:function(e){return a.edit(e,t._id)}},d.a.createElement("i",{style:{paddingLeft:"0.5rem"},className:"fa fa-edit editText custom_icon_button"}))),d.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginBottom:"1rem"}},d.a.createElement("button",{type:"button",className:"custom_button centered_hor",onClick:function(e){return a.decline(e,t._id)}},d.a.createElement("i",{className:"fa  fa-times redText custom_icon_button"}))),d.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},d.a.createElement("button",{type:"button",className:"custom_button centered_hor",onClick:function(e){return a.accept(e,t._id)}},d.a.createElement("i",{style:{paddingLeft:"0.2rem"},className:"fa fa-check greenText custom_icon_button"}))))},a.columns=[{dataField:"crit",style:{width:"5%",textAlign:"center",verticalAlign:"middle"},text:"\u041a\u0440\u0438\u0442."},{dataField:"achievement",text:"\u0414\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435",style:{width:"30%",verticalAlign:"middle"}},{dataField:"chars",isDummyField:!0,text:"\u0425\u0430\u0440-\u043a\u0438",style:{verticalAlign:"middle",width:"20%"},formatter:a.charsFormatter},{dataField:"achDate",text:"\u0414\u0430\u0442\u0430",style:{width:"5%",textAlign:"center",verticalAlign:"middle"},formatter:function(e,t){return d.a.createElement(d.a.Fragment,null,t.achDate&&d.a.createElement(d.a.Fragment,null,(a=t.achDate)?((a=new Date(a)).getDate()>9?a.getDate():"0"+a.getDate())+"."+(a.getMonth()+1>9?a.getMonth()+1:"0"+(a.getMonth()+1))+"."+a.getFullYear():void 0));var a}},{dataField:"status",style:{width:"5%",textAlign:"center",fontSize:"small",verticalAlign:"middle"},text:"\u0421\u0442\u0430\u0442\u0443\u0441",formatter:a.statusFormatter},{dataField:"comments",text:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",isDummyField:!0,csvExport:!1,formatter:a.commentsFormatter},{dataField:"actions",text:"",isDummyField:!0,style:{width:"1rem",backgroundColor:"white"},csvExport:!1,formatter:a.actionsFormatter}],a.rowClasses=function(e,t){return"\u041e\u0442\u043a\u0430\u0437\u0430\u043d\u043e"==e.status?"declined-row":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e"==e.status?"edited-row":"\u041f\u0440\u0438\u043d\u044f\u0442\u043e"==e.status||"\u041f\u0440\u0438\u043d\u044f\u0442\u043e \u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438"==e.status?"accepted-row":""},a.accept=a.accept.bind(Object(o.a)(Object(o.a)(a))),a.decline=a.decline.bind(Object(o.a)(Object(o.a)(a))),a.edit=a.edit.bind(Object(o.a)(Object(o.a)(a))),a.handleCommentChange=a.handleCommentChange.bind(Object(o.a)(Object(o.a)(a))),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"accept",value:function(e,t){var a=this;fetch("/api/AchSuccess",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({Id:t,UserId:this.props.userId})}).then(function(e){200===e.status&&a.props.updater()}).catch(function(e){return console.log(e)})}},{key:"decline",value:function(e,t){var a=this;fetch("/api/AchFailed",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({Id:t,UserId:this.props.userId})}).then(function(e){200===e.status&&a.props.updater()}).catch(function(e){return console.log(e)})}},{key:"edit",value:function(e,t){this.props.openModal(t),e.stopPropagation()}},{key:"handleCommentChange",value:function(e,t){document.getElementById(t).defaultValue=this.newComments[t],console.log(this.newComments[t]),Object(v.c)("/api/comment",{Id:t,comment:this.newComments[t]}).then(this.props.updater()),e.preventDefault()}},{key:"render",value:function(){var e;return e=this.props.filters.hideCheckedAchieves?this.props.data.filter(function(e){return"\u041f\u0440\u0438\u043d\u044f\u0442\u043e"!=e.status&&"\u041f\u0440\u0438\u043d\u044f\u0442\u043e \u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438"!=e.status}):this.props.data,d.a.createElement("div",{className:"adminAchievesTableContainer"},d.a.createElement(f.a,{keyField:"_id",data:e,columns:this.columns,rowClasses:this.rowClasses}))}}]),t}(c.Component);var b=Object(g.withRouter)(y),E=a(43),C=a(18),w=a(83),x=a(35),O={link:"\u0421\u0441\u044b\u043b\u043a\u0430",doc:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442",SZ:"\u0421\u043b\u0443\u0436. \u0437\u0430\u043f\u0438\u0441\u043a\u0430"},k=[{dataField:"Type",text:"\u0422\u0438\u043f",style:{width:"10%",fontSize:"small"},formatter:function(e,t){return"link"==t.Type&&(t.Data.startsWith("https://elibrary.ru/item.asp?id=")||t.Data.startsWith("elibrary.ru/item.asp?id="))?"e-library":O[t.Type]}},{dataField:"Data",text:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435",style:{width:"40%",overflow:"hidden"},formatter:function(e,t){return"SZ"==t.Type?d.a.createElement("div",{style:{fontSize:"small"}},t.Name,t.SZ&&t.SZ.Appendix?", \u043f\u0440\u0438\u043b. "+t.SZ.Appendix:"",t.SZ&&t.SZ.Paragraph?", \u043f. "+t.SZ.Paragraph:""):d.a.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"18rem",fontSize:"small"}},d.a.createElement("a",{href:t.Data,onClick:function(e){return e.stopPropagation()},target:"_blank"},t.Name),d.a.createElement("br",null),t.additionalInfo)}},{isDummyField:!0,formatter:function(e,t){return"doc"==t.Type?d.a.createElement("span",null,(t.Size/1024/1024).toFixed(2)," \u041c\u0431"):"link"==t.Type&&(t.Data.startsWith("https://elibrary.ru/item.asp?id=")||t.Data.startsWith("elibrary.ru/item.asp?id="))?t.CrawlResult?d.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"x-small"}},t.CrawlResult.title?d.a.createElement("div",{style:{maxWidth:"10rem",fontSize:"xx-small"}},d.a.createElement("div",null,'"',t.CrawlResult.title.toLowerCase(),'"'),d.a.createElement("div",null,d.a.createElement("i",null,t.CrawlResult.magazine?t.CrawlResult.magazine.toLowerCase():""))):"",d.a.createElement("div",{style:{width:"100%",marginLeft:"0.5rem"}},d.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},t.CrawlResult.inRINC?d.a.createElement("div",{className:"greenText"},"\u0412 \u0420\u0418\u041d\u0426\u0435 ",d.a.createElement("i",{className:"fa fa-check"})):d.a.createElement("div",{className:"redText"},"\u041d\u0435 \u0432 \u0420\u0418\u041d\u0426\u0435",d.a.createElement("i",{className:"fa fa-times"})),t.CrawlResult.isAuthor?d.a.createElement("div",{className:"greenText"},"\u0423\u043a\u0430\u0437\u0430\u043d \u0432 \u0430\u0432\u0442\u043e\u0440\u0430\u0445 ",d.a.createElement("i",{className:"fa fa-check"})):d.a.createElement("div",{className:"redText"},"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0432 \u0430\u0432\u0442\u043e\u0440\u0430\u0445",d.a.createElement("i",{className:"fa fa-times"}))),t.CrawlResult.year?d.a.createElement("div",{style:{fontSize:"small",merginTop:"0.5rem"}},d.a.createElement("b",null,"\u0413\u043e\u0434: ",t.CrawlResult.year)):"")):d.a.createElement("div",{style:{color:"#505050"}},"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0438\u0437 e-library"):""}}];function j(e){if(e)return((e=new Date(e)).getDate()>9?e.getDate():"0"+e.getDate())+"."+(e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1))+"."+e.getFullYear()}var D=function(e){function t(e){var a;Object(n.a)(this,t);var i=(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).props.users.find(function(e){return e.Achievements.find(function(e){return e._id.toString()==a.props.achId})}),l=i.Achievements.find(function(e){return e._id.toString()==a.props.achId});return console.log(l.confirmations),a.state={user:i.user,achId:l._id,dateValidationResult:!0,changeChars:!1,chars:l.chars,ach:l.achievement,comment:l.comment,achDate:l.achDate,confirmations:l.confirmations,isDateValid:!0},console.log(l.confirmations),a.updateDescr=a.updateDescr.bind(Object(o.a)(Object(o.a)(a))),a.handleDateChange=a.handleDateChange.bind(Object(o.a)(Object(o.a)(a))),a.updateNewChars=a.updateNewChars.bind(Object(o.a)(Object(o.a)(a))),a.updateChars=a.updateChars.bind(Object(o.a)(Object(o.a)(a))),a.updateComment=a.updateComment.bind(Object(o.a)(Object(o.a)(a))),a.saveChanges=a.saveChanges.bind(Object(o.a)(Object(o.a)(a))),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"updateDescr",value:function(e){this.setState({ach:e.target.value})}},{key:"updateComment",value:function(e){this.setState({comment:e.target.value})}},{key:"handleDateChange",value:function(e,t){this.setState({dateValidationResult:e,achDate:t,isDateValid:e})}},{key:"updateNewChars",value:function(e){this.setState({newChars:e})}},{key:"updateChars",value:function(){this.state.newChars&&this.setState({chars:this.state.newChars,changeChars:!1})}},{key:"saveChanges",value:function(){var e=this;if(!this.state.isDateValid&&"1 (7\u0430)"!=this.state.chars[0]){var t=this.state;return t.dateValidationResult=!1,void this.setState(t)}if(this.state.ach||"1 (7\u0430)"==this.state.chars[0]){var a={};if(a.crit=this.state.chars[0],a.chars=this.state.chars,this.state.achDate&&""!=this.state.achDate&&(this.state.achDate.indexOf("-")>0?a.achDate=this.state.achDate:a.achDate=function(e){if(!e)return;var t=e.split(".");return new Date(t[2]+"-"+t[1]+"-"+t[0])}(this.state.achDate)),a.achievement=this.state.ach,a.comment=this.state.comment,a.confirmations=[],this.state.confirmations)for(var n=0;n<this.state.confirmations.length;n++)a.confirmations.push({id:this.state.confirmations[n]._id,additionalInfo:this.state.confirmations[n].additionalInfo});a._id=this.props.achId,Object(C.b)("/api/adm_update_achieve",a).then(function(t){t&&e.props.closeModal()})}}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{style:{display:"flex",maxHeight:"42rem"}},!this.state.confirmsOpened&&d.a.createElement("div",{className:"block",style:{overflow:"auto",width:"50rem",maxHeight:"100%",maxWidth:"30rem"}},d.a.createElement("div",{className:"profile",style:{"display: flex; justify-content":"space-between",margin:"0"}},d.a.createElement("p",{className:"headline",style:{"margin-bottom":"auto","margin-right":"1rem"}},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f")),d.a.createElement("div",null,d.a.createElement(f.a,{keyField:"_id",data:this.state.confirmations,columns:k,headerClasses:["hidden"],classes:["existingConfirmationsRow"],bordered:!1}))),d.a.createElement("div",{className:"block",style:{maxWidth:"30rem",overflow:"auto"}},d.a.createElement("div",{className:"profile",style:{"display: flex; justify-content":"space-between",margin:"0"}},d.a.createElement("p",{className:"headline",style:{"margin-bottom":"auto","margin-right":"1rem"}},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f"),d.a.createElement("div",{style:{"margin-top":"auto"}},d.a.createElement("button",{id:"DeleteButton",className:"btn btn-secondary",value:"\u041d\u0430\u0437\u0430\u0434",onClick:this.props.closeModal},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))),d.a.createElement("hr",{className:"hr_blue"}),d.a.createElement("p",{className:"desc_headline"},this.state.user),d.a.createElement("label",{htmlFor:"comment",style:{marginTop:"auto",marginRight:"0.5rem"},className:"control-label col-xs-2"},"\u0414\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435: "),d.a.createElement("textarea",{className:"form-control area_text",name:"comment",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435 (\u0447\u0435\u0442\u043a\u043e\u0435, \u043e\u0434\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u043e\u0435 \u0438 \u043f\u043e\u043b\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)",id:"comment",required:!0,onChange:this.updateDescr,value:this.state.ach,style:{width:"100%",margin:"0"}}),d.a.createElement("div",{className:"form-group",style:{display:"flex",marginTop:"1rem"}},d.a.createElement("label",{htmlFor:"Date",style:{marginTop:"auto",marginRight:"0.5rem"},className:"control-label col-xs-2"},"\u0414\u0430\u0442\u0430 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f: "),d.a.createElement("div",{id:"Date",style:{display:"flex","align-items":"center",marginTop:"auto","margin-bottom":"auto"}},d.a.createElement(E.a,{className:"form-control",isValid:this.state.dateValidationResult,updater:this.handleDateChange,defaultValue:j(this.state.achDate)}))),d.a.createElement("div",null,d.a.createElement("div",{style:{"display: flex; justify-content":"space-between"}},d.a.createElement("label",{style:{marginTop:"auto",marginRight:"0.5rem"},className:"control-label col-xs-2"},"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438: "),d.a.createElement("button",{id:"DeleteButton",className:"btn btn-sm btn-outline-primary",value:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){return e.setState({changeChars:!e.state.changeChars})}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")),d.a.createElement("div",{style:{display:"flex","flex-wrap":"wrap","max-width":"40rem"}},this.state.chars.map(function(e){var t=e;return t.length>35&&(t=e.substr(0,15)+"..."+e.substr(e.length-15,15)),d.a.createElement("div",{className:"charsItem",style:{color:"white",backgroundColor:"#151540",paddingLeft:"6px",paddingRight:"6px"}},t)}))),d.a.createElement("button",{id:"DeleteButton",className:"btn btn-warning",style:{marginTop:"3rem"},value:"\u041d\u0430\u0437\u0430\u0434",onClick:this.saveChanges},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),this.state.changeChars&&d.a.createElement("div",{className:"block",style:{overflow:"scroll",width:"50rem",maxHeight:"100%",maxWidth:"30rem"}},d.a.createElement("div",{className:"profile",style:{"display: flex; justify-content":"space-between",margin:"0"}},d.a.createElement("p",{className:"headline",style:{"margin-bottom":"auto","margin-right":"1rem"}},"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a")),d.a.createElement("div",null,d.a.createElement(w.a,{crits:x.a.criterias,values:this.state.chars,valuesCallback:this.updateNewChars,supressDescription:!0})),d.a.createElement("button",{className:"btn btn-success",onClick:this.updateChars},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438")))}}]),t}(c.Component),N=a(122),S=a.n(N),I=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={},a.toggleHide=a.toggleHide.bind(Object(o.a)(Object(o.a)(a))),a.toggleRating=a.toggleRating.bind(Object(o.a)(Object(o.a)(a))),a.toggleModal=a.toggleModal.bind(Object(o.a)(Object(o.a)(a))),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"toggleModal",value:function(){this.state.modalIsOpen?this.setState({choosedDirection:!1,modalIsOpen:!this.state.modalIsOpen}):this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"toggleRating",value:function(){var e=Object(u.a)(h.a.mark(function e(){var t,a,n,i=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.item.Id,this.props.item.IsInRating||"\u0412\u0428\u0416\u0438\u041c\u041a"!=x.a.faculty){e.next=15;break}return this.toggleModal(),n=function e(t,a){i.state.choosedDirection?t(i.state.choosedDirection):!1===i.state.choosedDirection?(console.log("NULL"),a("null")):setTimeout(function(){return e(t,a)},30)},e.prev=4,e.next=7,new Promise(n);case 7:a=e.sent,this.setState({choosedDirection:void 0}),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),this.setState({choosedDirection:void 0}),e.abrupt("return",null);case 15:this.props.item.IsInRating?fetch("/api/RemoveFromRating",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({Id:t})}).then(function(e){200===e.status&&i.props.updater()}).catch(function(e){return console.log(e)}):fetch("/api/AddToRating",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a?JSON.stringify({Id:t,Direction:a}):JSON.stringify({Id:t})}).then(function(e){200===e.status&&i.props.updater()}).catch(function(e){return console.log(e)});case 16:case"end":return e.stop()}},e,this,[[4,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t,a){if(this.props.filters.hideCheckedAchieves){var n=!0,i=!0,s=!1,r=void 0;try{for(var l,o=this.props.item.Achievements[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var c=l.value;if("\u041f\u0440\u0438\u043d\u044f\u0442\u043e"!=c.status&&"\u041f\u0440\u0438\u043d\u044f\u0442\u043e \u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438"!=c.status){n=!1,!1!==this.state.hidden&&this.setState({hidden:!1});break}}}catch(d){s=!0,r=d}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}n&&!this.state.hidden&&this.setState({hidden:!0})}else this.state.hidden&&this.setState({hidden:!1})}},{key:"componentDidMount",value:function(){this.setState({hidden:!1})}},{key:"toggleHide",value:function(){var e=this.state;e.hidden=!e.hidden,this.setState(e)}},{key:"render",value:function(){var e=this;return this.state&&console.log("STATE",this.props.item.user,this.state.hidden),d.a.createElement("div",null,this.state&&d.a.createElement("div",{className:"name"},d.a.createElement("div",{style:{width:"100%","text-align":"center",height:"auto"},className:"input-group headerContainer"},d.a.createElement("div",{className:"nameHeader"+(this.props.item.IsInRating?" inRating":""),style:{"text-align":"center"}},d.a.createElement("i",{className:"fas fa-chevron-"+(this.state.hidden?"right":"down")+" mychevron",onClick:this.toggleHide})),d.a.createElement("h3",{className:"form-control nameHeader"+(this.props.item.IsInRating?" inRating":""),style:{border:"0","box-shadow":"none"}},d.a.createElement("a",{style:{color:"white"},target:"_blank",href:"/"},this.props.item.user)),d.a.createElement("div",{className:"input-group-append"},d.a.createElement("button",{type:"button",className:"btn btn-dark btn-xs newAchievesGroupButton",onClick:this.toggleRating},this.props.item.IsInRating?"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433"))),!this.state.hidden&&d.a.createElement("div",{className:"block"},d.a.createElement(b,{data:this.props.item.Achievements,userId:this.props.item.Id,updater:this.props.updater,openModal:this.props.openModal,filters:this.props.filters}))),d.a.createElement(S.a,{className:"Modal",style:{content:{"z-index":"111"},overlay:{"z-index":"110"}},isOpen:this.state.modalIsOpen,onRequestClose:this.toggleModal,shouldCloseOnOverlayClick:!0,contentLabel:"Example Modal",overlayClassName:"Overlay"},this.state.modalIsOpen&&d.a.createElement("div",{style:{width:"400px",height:"250px",backgroundColor:"white",padding:"15px"}},d.a.createElement("h2",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435:"),d.a.createElement("p",{style:{marginBottom:"40px"}},this.props.item.user),d.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},x.a.directions.map(function(t){return d.a.createElement("button",{className:"btn btn-warning",style:{marginBottom:"15px"},onClick:function(){e.setState({choosedDirection:t,modalIsOpen:!1})}},t)})))))}}]),t}(c.Component),A=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(r.a)(t).call(this,e))).state={modalIsOpen:!1,modalAchId:""},S.a.setAppElement("#root"),a.openEditModal=a.openEditModal.bind(Object(o.a)(Object(o.a)(a))),a.closeEditModal=a.closeEditModal.bind(Object(o.a)(Object(o.a)(a))),a.toggleCheckedAchieve=a.toggleCheckedAchieve.bind(Object(o.a)(Object(o.a)(a))),a.handleDirectionSelect=a.handleDirectionSelect.bind(Object(o.a)(Object(o.a)(a))),a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"openEditModal",value:function(e){this.setState({modalIsOpen:!0,modalAchId:e})}},{key:"closeEditModal",value:function(e){this.setState({modalIsOpen:!1,modalAchId:e})}},{key:"updateUsers",value:function(e){}},{key:"toggleCheckedAchieve",value:function(){this.setState({hideCheckedAchieves:!this.state.hideCheckedAchieves})}},{key:"handleDirectionSelect",value:function(e){this.setState({currentDirection:e.target.value})}},{key:"componentDidUpdate",value:function(e,t,a){!this.props.isNewList&&x.a.directions&&x.a.directions.length>0&&(this.state.currentDirection||this.setState({currentDirection:x.a.directions[0]}))}},{key:"render",value:function(){var e=this,t=0,a=0,n=this.props.users;"\u0412\u0428\u0416\u0438\u041c\u041a"==x.a.faculty&&this.state.currentDirection&&(n=n.filter(function(t){return t.Direction==e.state.currentDirection}));var i=!0,s=!1,r=void 0;try{for(var l,o=n[Symbol.iterator]();!(i=(l=o.next()).done);i=!0){var c=l.value,m=!0,h=!1,u=void 0;try{for(var p,f=c.Achievements[Symbol.iterator]();!(m=(p=f.next()).done);m=!0){var g=p.value;"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"!=g.status&&"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e"!=g.status&&(a+=1),t+=1}}catch(v){h=!0,u=v}finally{try{m||null==f.return||f.return()}finally{if(h)throw u}}}}catch(v){s=!0,r=v}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}return d.a.createElement("main",{id:"main"},n&&d.a.createElement("div",{id:"panel",className:"col list",style:{width:"100%"}},d.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},d.a.createElement("h2",{style:{fontSize:"2rem"}},d.a.createElement("b",null,"\u0424\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442: ",x.a.faculty),d.a.createElement("br",null),d.a.createElement("span",{style:{fontSize:"1.5rem"}},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432: ",n.length),!this.props.isNewList&&x.a.directions&&x.a.directions.length>0&&d.a.createElement("select",{id:"1",className:"form-control selectors",onChange:this.handleDirectionSelect},x.a.directions.map(function(e){return d.a.createElement("option",{value:e},e)}))),d.a.createElement("div",null,d.a.createElement("p",{style:{fontSize:"1.28rem",marginBottom:"0.8rem",marginLeft:"-1px",marginTop:"-0.1rem"}},"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0439: ",a,"/",t),d.a.createElement("button",{className:"btn btn-".concat(this.state.hideCheckedAchieves?"success":"outline-info"),onClick:this.toggleCheckedAchieve},this.state.hideCheckedAchieves?"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c ":"\u0421\u043a\u0440\u044b\u0442\u044c ","\u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f"))),n.map(function(t){return d.a.createElement("div",{key:t._id},d.a.createElement(I,{item:t,updater:e.props.updater,openModal:e.openEditModal,filters:{hideCheckedAchieves:e.state.hideCheckedAchieves}}))})),d.a.createElement(S.a,{className:"Modal",style:{content:{"z-index":"111"},overlay:{"z-index":"110"}},isOpen:this.state.modalIsOpen,onRequestClose:this.closeEditModal,shouldCloseOnOverlayClick:!0,contentLabel:"Example Modal",overlayClassName:"Overlay"},this.state.modalIsOpen&&d.a.createElement(D,{users:n,achId:this.state.modalAchId,closeModal:function(){e.setState({modalIsOpen:!1,modalAchId:""}),e.props.updater()}})))}}]),t}(d.a.PureComponent);t.a=A}}]);
//# sourceMappingURL=0.6068fc64.chunk.js.map