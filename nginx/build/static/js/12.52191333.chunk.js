(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{648:function(e,t,a){"use strict";a.r(t);var n=a(4),l=a(5),i=a(8),s=a(7),r=a(9),c=a(0),m=a.n(c),u=(a(19),a(14)),o=a(16),h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={LastName:"",FirstName:"",Patronymic:"",id:"",Rights:[],Faculty:"",Role:"Admin",isRightsValid:!0},a.handleLastNameChange=function(e){var t=a.state;t.LastName=e.target.value,a.setState(t)},a.handleFirstNameChange=function(e){var t=a.state;t.FirstName=e.target.value,a.setState(t)},a.handlePatronymicChange=function(e){var t=a.state;t.Patronymic=e.target.value,a.setState(t)},a.handleIdChange=function(e){var t=a.state;t.id=e.target.value,a.setState(t)},a.handleFacultyChange=function(e){var t=a.state;""===e.target.value?t.Faculty=void 0:t.Faculty=e.target.value,a.setState(t)},a.handleRightsSelect=function(e){var t=a.state;t.Rights.push(e.target.value),t.isRightsValid=!0,a.setState(t),e.preventDefault()},a.handleRoleSelect=function(e){var t=a.state;t.Role=e.target.value,a.setState(t),e.preventDefault()},a.removeRight=function(e){var t=a.state;-1!=t.Rights.indexOf(e)&&t.Rights.splice(t.Rights.indexOf(e),1),a.setState(t)},a.validateRights=function(e){if(0===a.state.Rights.length){var t=a.state;t.isRightsValid=!1,a.setState(t)}},a.handleSubmit=function(e){if(e.preventDefault(),a.state.isRightsValid){var t={LastName:a.state.LastName,FirstName:a.state.FirstName,Patronymic:a.state.Patronymic,Faculty:a.state.Faculty,Rights:a.state.Rights,Role:a.state.Role,id:a.state.id.toLowerCase()};Object(o.b)("/api/createAdmin",t).then(function(e){e.ok&&a.props.history.push("/staff/")}).catch(function(e){return console.log("ERROR",e)})}},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement("main",null,m.a.createElement("div",{id:"panel",className:"row",style:{justifyContent:"center",display:"flex"}},m.a.createElement("div",{className:"menu"},m.a.createElement("p",{className:"headline"},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"),m.a.createElement("hr",{className:"hr_blue"}),m.a.createElement("div",{className:"container"},m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"nameInput"},m.a.createElement("span",{className:"redText"},"*"),"\u0424\u0430\u043c\u0438\u043b\u0438\u044f:"),m.a.createElement("input",{id:"nameInput",className:"form-control",type:"text",name:"name",required:!0,value:this.state.LastName,onChange:this.handleLastNameChange}),m.a.createElement("label",{htmlFor:"officialNameInput"},m.a.createElement("span",{className:"redText"},"*"),"\u0418\u043c\u044f:"),m.a.createElement("input",{id:"officialNameInput",className:"form-control",type:"text",required:!0,name:"officialName",value:this.state.FirstName,onChange:this.handleFirstNameChange}),m.a.createElement("label",{htmlFor:"dirNameInput"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e:"),m.a.createElement("input",{id:"dirNameInput",className:"form-control",type:"text",name:"dirName",value:this.state.Patronymic,onChange:this.handlePatronymicChange}),m.a.createElement("label",{htmlFor:"IdInput"},m.a.createElement("span",{className:"redText"},"*"),"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440:"),m.a.createElement("input",{id:"IdInput",className:"form-control",type:"text",name:"dirName",required:!0,value:this.state.id,onChange:this.handleIdChange}),m.a.createElement("label",{htmlFor:"FacultyInput"},"\u0424\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442:"),m.a.createElement("select",{id:"FacultyInput",className:"form-control",name:"check2",defaultValue:"",onChange:this.handleFacultyChange},m.a.createElement("option",{value:"",style:{color:"red"}},"-"),this.props.facultiesList.map(function(e){return m.a.createElement("option",{key:e,value:e},e)})),m.a.createElement("label",{htmlFor:"RoleInput"},"\u0420\u043e\u043b\u044c:"),m.a.createElement("select",{id:"RoleInput",className:"form-control",name:"check2",defaultValue:"Admin",onChange:this.handleRoleSelect},m.a.createElement("option",{value:"Admin"},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"),m.a.createElement("option",{value:"SuperAdmin"},"\u0421\u0443\u043f\u0435\u0440\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440")),m.a.createElement("label",{htmlFor:"RightsInput"},m.a.createElement("span",{className:"redText"},"*"),"\u041f\u0440\u0430\u0432\u0430:"),m.a.createElement("div",{id:"RightsInput"},m.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",width:"20rem"}},this.state.Rights.map(function(t){return m.a.createElement("div",{className:"btn-xs btn-dark tag",onClick:function(a){return e.removeRight(t)}},t)})),m.a.createElement("select",{id:"RightsSelect",className:"form-control"+(this.state.isRightsValid?"":" is-invalid"),name:"check2",defaultValue:"",value:"",onChange:this.handleRightsSelect},m.a.createElement("option",{value:"",disabled:!0},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442"),this.props.facultiesList.filter(function(t){return-1==e.state.Rights.indexOf(t)}).map(function(e){return m.a.createElement("option",{key:e+"r",value:e},e)}))),m.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"end"}},m.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",style:{marginTop:"1rem"},onClick:this.validateRights}))))))))}}]),t}(c.Component),d=Object(u.withRouter)(h),p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;Object(o.a)("/api/getFacultiesList",{}).then(function(t){return e.setState({faculties:t.list})})}},{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,this.state.faculties&&m.a.createElement(d,{facultiesList:this.state.faculties}),!this.state.faculties&&m.a.createElement("div",null))}}]),t}(c.Component);t.default=p}}]);
//# sourceMappingURL=12.52191333.chunk.js.map