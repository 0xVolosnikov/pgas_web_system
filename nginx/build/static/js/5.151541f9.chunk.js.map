{"version":3,"sources":["stores/staff/staffNewAchievementsStore.js","stores/staff/currentContestStore.js","components/views/staff/staffHeader.js","components/containers/staff/staffHeaderContainer.js","services/exportXLSX.js","components/views/staff/staffMenu.js","components/staff.js"],"names":["staffNewAchievementsStore","Object","_home_pgas_pgas_web_system_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","users","facultyName","fetchGet","faculty","result","Info","decorate","observable","__webpack_exports__","CurrentContestStore","StaffHeader","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","switchToUser","bind","assertThisInitialized","goToMenu","switchFaculty","history","push","event","preventDefault","staffContextStore","changeFaculty","then","update","currentContestStore","currentContestRatingStore","_this2","react_default","a","createElement","className","src","logo","pageName","type","onClick","DropdownButton","variant","title","userPersonalStore","Rights","map","x","Dropdown","Item","key","e","Role","style","marginRight","id","Component","withRouter","observer","StaffHeaderContainer","pathname","location","staffHeader","FileSaver","require","s2ab","s","buf","ArrayBuffer","length","view","Uint8Array","i","charCodeAt","fitToColumn","arrayOfArray","wch","Math","max","apply","toConsumableArray","a2","toString","getDate","d","Date","getMonth","getFullYear","makeExportUsersTable","_ref","asyncToGenerator","regenerator_default","mark","_callee","table","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","user","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","ach","row","wb","worksheet","wopts","wbout","wrap","_context","prev","next","abrupt","undefined","Symbol","iterator","done","value","Achievements","status","Type","Course","achDate","chars","achievement","ball","t0","return","finish","t1","XLSX","utils","book_new","SheetNames","aoa_to_sheet","Sheets","bookType","bookSST","write","saveAs","Blob","stop","_x","_x2","arguments","StaffMenu","openNewAchieves","openCurrentContest","openCurrentContestRating","openCriteriasMenu","exportExcel","justifyContent","display","Fragment","criterias","NewAchievesContainer","React","lazy","Promise","all","__webpack_require__","CurrentContestAchievementsContainer","StaffStudentsRatingContainer","resolve","StaffCriteriasPage","StaffAnnotationsPage","CriteriasMenu","AdminCreationContainer","FacultyCreationContainer","StaffStatistics","Staff","state","authenticated","Auth","isUserAuthenticated","window","assign","nextProps","nextState","nextContext","fetchAuth","setState","console","log","staffHeaderContainer","react","fallback","backGroundColor","padding","marginTop","marginBottom","react_router","path","component"],"mappings":"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","file":"static/js/5.151541f9.chunk.js","sourcesContent":["import {decorate, observable} from 'mobx';\nimport {fetchGet} from \"../../services/fetchService\";\n\nclass staffNewAchievementsStore {\n    users = [];\n\n    async update(facultyName) {\n        let result = await fetchGet(\"/api/getUsersForAdmin\", {faculty: facultyName});\n        this.users = result.Info\n    }\n\n    constructor() {\n\n    }\n}\n\ndecorate(staffNewAchievementsStore, {\n    users: observable\n});\n\nexport default new staffNewAchievementsStore();","import {decorate, observable} from 'mobx';\nimport {fetchGet} from \"../../services/fetchService\";\n\nclass CurrentContestStore {\n    users = [];\n\n    async update(facultyName) {\n        let result = await fetchGet(\"/api/checked\", {faculty: facultyName});\n        this.users = result.Info\n    }\n\n    constructor() {\n\n    }\n}\n\ndecorate(CurrentContestStore, {\n    users: observable\n});\n\nexport default new CurrentContestStore();","import React, {Component} from 'react';\nimport logo from '../../../img/gerb.png';\nimport '../../../style/user_main.css';\nimport userPersonalStore from '../../../stores/userPersonalStore'\nimport {observer} from \"mobx-react\";\nimport {withRouter} from \"react-router\";\nimport Dropdown from \"react-bootstrap/Dropdown\"\nimport DropdownButton from \"react-bootstrap/DropdownButton\"\nimport staffContextStore from \"../../../stores/staff/staffContextStore\";\nimport staffNewAchievementsStore from \"../../../stores/staff/staffNewAchievementsStore\";\nimport currentContestStore from \"../../../stores/staff/currentContestStore\";\nimport currentContestRatingStore from \"../../../stores/staff/currentContestRatingStore\";\n\nclass StaffHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.switchToUser = this.switchToUser.bind(this);\n        this.goToMenu = this.goToMenu.bind(this);\n        this.switchFaculty = this.switchFaculty.bind(this)\n    };\n\n    switchToUser() {\n        this.props.history.push('/home');\n    }\n\n    switchFaculty(faculty, event) {\n        event.preventDefault();\n        staffContextStore.changeFaculty(faculty).then();\n        staffNewAchievementsStore.update(faculty).then();\n        currentContestStore.update(faculty).then();\n        currentContestRatingStore.update(faculty).then()\n\n    }\n\n    goToMenu() {\n        this.props.history.push('/staff');\n    }\n\n    render() {\n        return <header>\n            <div className=\"row page_top\">\n                <div className=\"col-9 block_header\">\n                    <img src={logo} className=\"logo_img\"/>\n                    <div className=\"p_header\">\n                        Санкт-Петербургский государственный университет <br/>\n                        {this.props.pageName}\n                    </div>\n                </div>\n\n\n                <div className=\"col-3 buttons_header \">\n\n                    <div className=\"admin_header_buttons_group\">\n                        <div>\n                            <button type=\"button\"\n                                    className=\"btn btn-outline-primary\" onClick={this.goToMenu}>\n                                Меню\n                            </button>\n                        </div>\n                        <DropdownButton variant=\"warning\" title={staffContextStore.faculty}>\n                            {userPersonalStore.Rights && userPersonalStore.Rights.map((x) => (\n                                <Dropdown.Item key={x} onClick={e => this.switchFaculty(x, e)}>{x}</Dropdown.Item>\n                            ))\n                            }\n                        </DropdownButton>\n\n                        {(userPersonalStore.Role == 'Admin' || userPersonalStore.Role == 'SuperAdmin') &&\n                        <div style={{\"marginRight\": \"1rem\"}}>\n                            <button type=\"button\" id=\"SubmitButton\"\n                                    className=\"btn btn-outline-primary\" onClick={this.switchToUser}>\n                                Режим пользователя\n                            </button>\n                        </div>\n                        }\n                        <div>\n                            <button type=\"button\" id=\"logoutButton\"\n                                    className=\"btn btn-outline-danger\">\n                                Выход\n                            </button>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </header>\n    }\n}\n\nexport default withRouter(observer(StaffHeader))","import React from 'react';\nimport '../../../style/user_main.css';\nimport StaffHeader from \"../../views/staff/staffHeader\";\nimport {withRouter} from \"react-router-dom\";\n\nfunction StaffHeaderContainer(props) {\n    const {location} = props;\n    let pathname;\n    switch (location.pathname) {\n        case '/staff':\n            pathname = 'Меню сотрудника';\n            break;\n    }\n    return <StaffHeader pageName={pathname}/>\n}\n\nStaffHeaderContainer = withRouter(StaffHeaderContainer);\nexport default StaffHeaderContainer\n","import React from 'react';\nimport XLSX from 'xlsx'\nlet FileSaver = require('file-saver')\n\nfunction s2ab (s) {\n    let buf = new ArrayBuffer(s.length)\n    let view = new Uint8Array(buf)\n    for (let i = 0; i != s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF\n    return buf\n}\n\nfunction fitToColumn (arrayOfArray) {\n    // get maximum character of each column\n    return arrayOfArray[0].map((a, i) => {\n        if (i < 4) return { wch: Math.max(...arrayOfArray.map((a2) => a2[i] ? a2[i].toString().length : 10)) }\n        else return {}\n    })\n}\n\nfunction getDate(d) {\n    if (!d) return undefined;\n    d = new Date(d);\n    return (d.getDate() > 9 ? d.getDate() : '0' + d.getDate()) + \".\" + ((d.getMonth() + 1) > 9 ? (d.getMonth() + 1) : '0' + (d.getMonth() + 1)) + \".\" + d.getFullYear();\n}\n\nexport const makeExportUsersTable = async (users, faculty) => {\n\n    if (!users || users.length == 0) return\n\n    let table = []\n    table.push(['ФИО', 'Ст. об.', 'Курс', 'Дата', 'Критерий', 'Хар-ки', 'Достижение', 'Балл'])\n\n    for (let user of users)\n    {\n        for (let ach of user.Achievements)\n        {\n            if (ach.status != 'Принято' && ach.status != 'Принято с изменениями') continue\n            let row = []\n            row.push(user.user)\n            row.push(user.Type[0])\n            row.push(user.Course)\n            row.push(ach.achDate ? getDate(ach.achDate) : 'н/д')\n            row.push(ach.chars[0])\n            row.push(ach.chars.toString())\n            row.push(ach.achievement)\n            row.push(ach.ball)\n            table.push(row)\n        }\n    }\n\n    let wb = XLSX.utils.book_new()\n    wb.SheetNames[0] = 'Лист 1'\n    let worksheet = new XLSX.utils.aoa_to_sheet(table)\n    worksheet['!cols'] = fitToColumn(table)\n    wb.Sheets['Лист 1'] = worksheet\n\n    let wopts = { bookType: 'xlsx', bookSST: false, type: 'binary' }\n    let wbout = XLSX.write(wb, wopts)\n\n    /* the saveAs call downloads a file on the local machine */\n    FileSaver.saveAs(new Blob([s2ab(wbout)],{ type: '' }), faculty + '_Export.xlsx')\n}\n","import React, {Component} from 'react';\nimport '../../../style/rating.css';\nimport {observer} from \"mobx-react\";\nimport {withRouter} from \"react-router\";\nimport userPersonalStore from \"../../../stores/userPersonalStore\";\nimport staffContextStore from \"../../../stores/staff/staffContextStore\";\nimport {fetchGet} from \"../../../services/fetchService\";\nimport {makeExportUsersTable} from \"../../../services/exportXLSX\";\n\nclass StaffMenu extends Component {\n    constructor(props) {\n        super(props);\n        this.openNewAchieves = this.openNewAchieves.bind(this);\n        this.openCurrentContest = this.openCurrentContest.bind(this);\n        this.openCurrentContestRating = this.openCurrentContestRating.bind(this);\n        this.openCriteriasMenu = this.openCriteriasMenu.bind(this);\n        this.exportExcel = this.exportExcel.bind(this)\n    };\n\n    async exportExcel() {\n        if (!staffContextStore.faculty) return null\n\n        let users = await fetchGet('/api/checked', {faculty: staffContextStore.faculty})\n\n        await makeExportUsersTable(users.Info, staffContextStore.faculty)\n    }\n\n    openNewAchieves() {\n        this.props.history.push('/staff/newAchieves');\n    }\n\n    openCurrentContest() {\n        this.props.history.push('/staff/current');\n    }\n\n    openCurrentContestRating() {\n        this.props.history.push('/staff/rating');\n    }\n\n    openCriteriasMenu() {\n        this.props.history.push('/staff/criteriasMenu');\n    }\n\n    render() {\n        return (\n            <main>\n                <div id=\"panel\" className=\"row\" style={{\"justifyContent\": \"center\", \"display\": \"flex\"}}>\n\n                    <div className=\"menu\">\n                        <p className=\"headline\">\n                            Меню сотрудника\n                        </p>\n                        <hr className=\"hr_blue\"/>\n                        <div className=\"container buttonsPanel\">\n                            <div className=\"row buttonsRow row-eq-height\">\n                                <div className=\"col\">\n                                    <div className=\"centered menuButtonContainer\">\n                                        <button type=\"button\" id=\"SubmitButton\"\n                                                className=\"btn btn-success menuButton\"\n                                                value=\"Панель сотрудника\" onClick={this.openNewAchieves}>\n                                            Новые <br/>достижения\n                                        </button>\n                                    </div>\n                                </div>\n                                <div className=\"col\">\n                                    <div className=\"centered menuButtonContainer\">\n                                        <button type=\"button\" id=\"SubmitButton\"\n                                                className=\"btn btn-success menuButton \"\n                                                value=\"Панель сотрудника\" onClick={this.openCurrentContest}>\n                                            Текущая <br/> ПГАС\n                                        </button>\n                                    </div>\n                                </div>\n                                <div className=\"col\">\n                                    <div className=\"centered menuButtonContainer\">\n                                        <button type=\"button\" id=\"SubmitButton\"\n                                                className=\"btn btn-success menuButton\"\n                                                value=\"Панель сотрудника\" onClick={this.openCurrentContestRating}>\n                                            Рейтинг\n                                        </button>\n                                    </div>\n                                </div>\n\n\n                                <div className=\"w-100\"></div>\n                                <div className=\"col \">\n                                    <div className=\"centered menuButtonContainer\">\n                                        <button type=\"button\" id=\"SubmitButton\"\n                                                className={\"btn btn-success menuButton\"}\n                                                value=\"Панель сотрудника\" onClick={() => {\n                                            this.props.history.push('/staff/criteriasPage')\n                                        }}>\n                                            Критерии\n                                        </button>\n                                    </div>\n                                </div>\n                                <div className=\"col\">\n                                    <div className=\"centered menuButtonContainer\">\n                                        <button type=\"button\" id=\"SubmitButton\"\n                                                className=\"btn btn-success menuButton \"\n                                                value=\"Панель сотрудника\"\n                                        onClick={() => this.props.history.push('/staff/statistics')}>\n                                            Статистика\n                                        </button>\n                                    </div>\n                                </div>\n                                <div className=\"col\">\n                                    <div className=\"centered menuButtonContainer\">\n                                        <button type=\"button\" id=\"SubmitButton\"\n                                                className=\"btn btn-success menuButton\"\n                                                value=\"Панель сотрудника\"\n                                        onClick={this.exportExcel}>\n                                            Экспорт в Excel\n                                        </button>\n                                    </div>\n                                </div>\n\n                                <div className=\"w-100\"></div>\n                                {\n                                    userPersonalStore.Role == 'SuperAdmin' &&\n                                    <>\n                                        <div className=\"col\">\n                                            <div className=\"centered menuButtonContainer\">\n                                                <button type=\"button\" id=\"SubmitButton\"\n                                                        className=\"btn btn-warning menuButton\"\n                                                        value=\"Панель сотрудника\"\n                                                        onClick={() => this.props.history.push('/staff/facultyCreation')}>\n                                                    Создать факультет\n                                                </button>\n                                            </div>\n                                        </div>\n                                        <div className=\"col\">\n                                            <div className=\"centered menuButtonContainer\">\n                                                <button type=\"button\" id=\"SubmitButton\"\n                                                        className=\"btn btn-warning menuButton\"\n                                                        value=\"Панель сотрудника\"\n                                                        onClick={() => this.props.history.push('/staff/adminCreation')}>\n                                                    Создать администратора\n                                                </button>\n                                            </div>\n                                        </div>\n                                        <div className=\"col \">\n                                            <div className=\"centered menuButtonContainer\">\n                                                <button type=\"button\" id=\"SubmitButton\"\n                                                        className={\"btn btn-\" + (staffContextStore.criterias ? \"warning\" : \"danger\") + \" menuButton\"}\n                                                        value=\"Панель сотрудника\" onClick={this.openCriteriasMenu}>\n                                                    Загрузка критериев\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </>\n                                }\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </main>\n        )\n    }\n}\n\nexport default withRouter(observer(StaffMenu))","import React, {Component, Suspense} from 'react';\nimport '../style/user_main.css';\nimport {Route} from \"react-router-dom\";\nimport Auth from \"../modules/Auth\";\nimport {Switch} from \"react-router\";\nimport StaffHeaderContainer from \"./containers/staff/staffHeaderContainer\";\nimport StaffMenu from './views/staff/staffMenu'\nimport userPersonalStore from \"../stores/userPersonalStore\";\nimport staffContextStore from \"../stores/staff/staffContextStore\";\nimport {observer} from \"mobx-react\";\n\nconst NewAchievesContainer = React.lazy(() => import(\"./containers/staff/newAchievesContainer\"))\nconst CurrentContestAchievementsContainer = React.lazy(() => import(\"./containers/staff/currentContestAchievementsContainer\"))\nconst StaffStudentsRatingContainer = React.lazy(() => import(\"./containers/staff/staffStudentsRatingContainer\"))\nconst StaffCriteriasPage = React.lazy(() => import(\"./views/staff/staffCriteriasPage\"))\nconst StaffAnnotationsPage = React.lazy(() => import(\"./views/staff/staffAnnotationsPage\"))\nconst CriteriasMenu = React.lazy(() => import('./views/staff/criteriasManagePage/CriteriasMenu'));\nconst AdminCreationContainer = React.lazy(() => import('./containers/staff/superAdmin/adminCreationContainer'));\nconst FacultyCreationContainer = React.lazy(() => import('./containers/staff/superAdmin/facultyCreationContainer'));\nconst StaffStatistics = React.lazy(() => import(\"./views/staff/staffStatistics\"))\n\nconst PrivateRoute = ({component: Component, ...rest}) => (\n    <Route {...rest} render={props => (\n        Auth.isUserAuthenticated() ? (\n            <Component {...props} {...rest} />\n        ) : (\n            window.location.assign('/api/login')\n        )\n    )}/>\n);\n\n\nclass Staff extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            authenticated: false\n        };\n\n    };\n\n    componentDidMount() {\n        userPersonalStore.update().then((result) => {\n            staffContextStore.changeFaculty(userPersonalStore.Rights[0]).then()\n        })\n    }\n\n    componentWillMount() {\n        if (!Auth.isUserAuthenticated()) window.location.assign('/api/login')\n    }\n\n    componentWillUpdate(nextProps, nextState, nextContext) {\n        Auth.fetchAuth().then(() => {\n            if (!Auth.isUserAuthenticated()) window.location.assign('/api/login')\n        })\n    }\n\n    async toggleAuthenticateStatus() {\n        // check authenticated status and toggle state based on that\n        await Auth.fetchAuth();\n        this.setState({authenticated: Auth.isUserAuthenticated()});\n        console.log(this.state.authenticated)\n    }\n\n    render() {\n        return (<div className=\"container-fluid\">\n            <StaffHeaderContainer/>\n            <div id=\"mainBody\">\n                {staffContextStore.faculty &&\n                <Suspense fallback={<div style={{backGroundColor: \"#e2e2e2\", padding: \"3rem\", marginTop:'auto', marginBottom:'auto'}}>\n                    <div id=\"floatingCirclesG\">\n                        <div className=\"f_circleG\" id=\"frotateG_01\"/>\n                        <div className=\"f_circleG\" id=\"frotateG_02\"/>\n                        <div className=\"f_circleG\" id=\"frotateG_03\"/>\n                        <div className=\"f_circleG\" id=\"frotateG_04\"/>\n                        <div className=\"f_circleG\" id=\"frotateG_05\"/>\n                        <div className=\"f_circleG\" id=\"frotateG_06\"/>\n                        <div className=\"f_circleG\" id=\"frotateG_07\"/>\n                        <div className=\"f_circleG\" id=\"frotateG_08\"/>\n                    </div>\n                </div>}>\n                    <Switch>\n                        <Route path=\"/staff/newAchieves\" component={NewAchievesContainer}/>\n                        <Route path=\"/staff/current\" component={CurrentContestAchievementsContainer}/>\n                        <Route path=\"/staff/rating\" component={StaffStudentsRatingContainer}/>\n                        <Route path=\"/staff/criteriasMenu\" component={CriteriasMenu}/>\n                        <Route path=\"/staff/criteriasPage\" component={StaffCriteriasPage}/>\n                        <Route path=\"/staff/manageAnnotations\" component={StaffAnnotationsPage}/>\n                        <Route path=\"/staff/facultyCreation\" component={FacultyCreationContainer}/>\n                        <Route path=\"/staff/adminCreation\" component={AdminCreationContainer}/>\n                        <Route path=\"/staff/statistics\" component={StaffStatistics}/>\n                        <Route path=\"/staff/\" component={StaffMenu}/>\n                    </Switch>\n                </Suspense>\n                }\n            </div>\n        </div>)\n    }\n\n}\n\nexport default observer(Staff)"],"sourceRoot":""}